<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <script
    type="application/javascript"
    src='https://m1nn1e.github.io/js/theme-mode.js'
  ></script>
  <link rel="stylesheet" href='https://m1nn1e.github.io/css/frameworks.min.css' />
  <link rel="stylesheet" href='https://m1nn1e.github.io/css/github.min.css' />
  <link rel="stylesheet" href='https://m1nn1e.github.io/css/github-style.css' />
  <link rel="stylesheet" href='https://m1nn1e.github.io/css/light.css' />
  <link rel="stylesheet" href='https://m1nn1e.github.io/css/dark.css' />
  <link rel="stylesheet" href='https://m1nn1e.github.io/css/syntax.css' />
  
  <link rel="stylesheet" href='https://m1nn1e.github.io/css/tocbot.css' />

  <title>
    渗透测试行为清单 - Minnie Clubhouse
  </title>
  
  <link rel="icon" type="image/x-icon" href="/images/github.png" />
  
  <meta name="theme-color" content="#1e2327" />

  
  <meta
  name="description"
  content=" 渗透测试简单来说是安全人员模拟黑客入侵的方式，评估目标安全防御能力的行为。根据测试人员获取信息的多少，可分为黑盒、白盒、灰盒三种类型。（ING）
"
/>
<meta
  name="keywords"
  content='blog, security, binary, OS'
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://m1nn1e.github.io/post/pentest_list/" />


<meta name="twitter:card" content="summary" />
<meta
  name="twitter:title"
  content="渗透测试行为清单 - Minnie Clubhouse"
/>
<meta
  name="twitter:description"
  content=" 渗透测试简单来说是安全人员模拟黑客入侵的方式，评估目标安全防御能力的行为。根据测试人员获取信息的多少，可分为黑盒、白盒、灰盒三种类型。（ING）
"
/>
<meta name="twitter:site" content="https://m1nn1e.github.io/" />
<meta name="twitter:creator" content="" />
<meta
  name="twitter:image"
  content="https://m1nn1e.github.io/"
/>


<meta
  property="og:type"
  content="article"
/>
<meta
  property="og:title"
  content="渗透测试行为清单 - Minnie Clubhouse"
/>
<meta
  property="og:description"
  content=" 渗透测试简单来说是安全人员模拟黑客入侵的方式，评估目标安全防御能力的行为。根据测试人员获取信息的多少，可分为黑盒、白盒、灰盒三种类型。（ING）
"
/>
<meta property="og:url" content="https://m1nn1e.github.io/post/pentest_list/" />
<meta property="og:site_name" content="渗透测试行为清单" />
<meta
  property="og:image"
  content="https://m1nn1e.github.io/"
/>
<meta property="og:image:width" content="2048" />
<meta property="og:image:height" content="1024" />

<meta property="article:published_time" content="2022-09-10 02:10:40 &#43;0800 CST" />











</head>


<body>
  <div style="position: relative">
  <header class="Header js-details-container Details px-3 px-md-4 px-lg-5 flex-wrap flex-md-nowrap open Details--on">
    <div class="Header-item mobile-none" style="margin-top: -4px; margin-bottom: -4px;">
      <a class="Header-link" href="https://m1nn1e.github.io/">
        <svg class="octicon" height="32" viewBox="0 0 16 16" version="1.1" width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item d-md-none">
      <button class="Header-link btn-link js-details-target" type="button"
        onclick="document.querySelector('#header-search').style.display = document.querySelector('#header-search').style.display == 'none'? 'block': 'none'">
        <svg height="24" class="octicon octicon-three-bars" viewBox="0 0 16 16" version="1.1" width="24">
          <path fill-rule="evenodd"
            d="M1 2.75A.75.75 0 011.75 2h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 2.75zm0 5A.75.75 0 011.75 7h12.5a.75.75 0 110 1.5H1.75A.75.75 0 011 7.75zM1.75 12a.75.75 0 100 1.5h12.5a.75.75 0 100-1.5H1.75z">
          </path>
        </svg>
      </button>
    </div>
    <div style="display: none;" id="header-search"
      class="Header-item Header-item--full flex-column flex-md-row width-full flex-order-2 flex-md-order-none mr-0 mr-md-3 mt-3 mt-md-0 Details-content--hidden-not-important d-md-flex">
      <div
        class="Header-search header-search flex-auto js-site-search position-relative flex-self-stretch flex-md-self-auto mb-3 mb-md-0 mr-0 mr-md-3 scoped-search site-scoped-search js-jump-to">
        <div class="position-relative">
          <form target="_blank" action="https://www.google.com/search" accept-charset="UTF-8" method="get"
            autocomplete="off">
            <label
              class="Header-search-label form-control input-sm header-search-wrapper p-0 js-chromeless-input-container header-search-wrapper-jump-to position-relative d-flex flex-justify-between flex-items-center">
              <input type="text"
                class="Header-search-input form-control input-sm header-search-input jump-to-field js-jump-to-field js-site-search-focus js-site-search-field is-clearable"
                name="q" value="" placeholder="Search" autocomplete="off">
              <input type="hidden" name="q" value="site:https://m1nn1e.github.io/">
            </label>
          </form>
        </div>
      </div>
    </div>

    <div class="Header-item Header-item--full flex-justify-center d-md-none position-relative">
      <a class="Header-link " href="https://m1nn1e.github.io/">
        <svg class="octicon octicon-mark-github v-align-middle" height="32" viewBox="0 0 16 16" version="1.1"
          width="32">
          <path fill-rule="evenodd"
            d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
          </path>
        </svg>
      </a>
    </div>
    <div class="Header-item" style="margin-right: 0;">
      <a href="javascript:void(0)" class="Header-link no-select" onclick="switchTheme()">
        <svg style="fill: var(--color-profile-color-modes-toggle-moon);" class="no-select" viewBox="0 0 16 16"
          version="1.1" width="16" height="16">
          <path fill-rule="evenodd" clip-rule="evenodd"
            d="M4.52208 7.71754C7.5782 7.71754 10.0557 5.24006 10.0557 2.18394C10.0557 1.93498 10.0392 1.68986 10.0074 1.44961C9.95801 1.07727 10.3495 0.771159 10.6474 0.99992C12.1153 2.12716 13.0615 3.89999 13.0615 5.89383C13.0615 9.29958 10.3006 12.0605 6.89485 12.0605C3.95334 12.0605 1.49286 10.001 0.876728 7.24527C0.794841 6.87902 1.23668 6.65289 1.55321 6.85451C2.41106 7.40095 3.4296 7.71754 4.52208 7.71754Z">
          </path>
        </svg>
      </a>
    </div>
  </header>
</div>
   <div style="position: relative">
    <main>
        <div class="gisthead pagehead bg-gray-light pb-0 pt-3 mb-4">
            <div class="px-0">
              <div class="mb-3 d-flex px-3 px-md-3 px-lg-5">
                <div class="flex-auto min-width-0 width-fit mr-3">
                  <div class="d-flex">
                    <div class="d-none d-md-block">
                      <a class="avatar mr-2 flex-shrink-0" href="https://m1nn1e.github.io/">
                        <img class=" avatar-user"
                          src="https://m1nn1e.github.io/images/avatar.png"
                          width="32" height="32"></a>
                    </div>

<div class="d-flex flex-column">
    <h1 class="break-word f3 text-normal mb-md-0 mb-1">
        <span class="author" id="breadcrumbs">
            <a href="/">Home</a><strong><span class="path-divider">/</span><a href="/post/pentest_list">渗透测试行为清单</a></strong></span>
        
    </h1>
    <div class="note m-0">
      Created <relative-time datetime="Sat, 10 Sep 2022 02:10:40 &#43;0800"
        class="no-wrap">
        Sat, 10 Sep 2022 02:10:40 &#43;0800</relative-time>

      
      <span class="file-info-divider"></span>
      Modified <relative-time datetime="Fri, 23 Sep 2022 06:12:07 &#43;0800"
        class="no-wrap">
        Fri, 23 Sep 2022 06:12:07 &#43;0800</relative-time>
      
    </div>
  </div>
</div>
</div>
</div>
</div>
</div>
</main>
</div> 

<div class="js-toc-content">
  
  <div style="position: relative;">
          <div class="container-lg px-3 new-discussion-timeline" >
            
            <div class="repository-content gist-content">
              <div>
                <div class="js-gist-file-update-container js-task-list-container file-box">
                  <div id="file-pytest" class="file my-2">
                    <div id="post-header" class="file-header d-flex flex-md-items-center flex-items-start sticky-header" style="z-index: 2">
                      <div class="file-info d-flex flex-md-items-center flex-items-start flex-order-1 flex-auto" style="text-align: left;">
                        <div class="text-mono f6 flex-auto pr-3 flex-order-2 flex-md-order-1 mt-2 mt-md-0">
                          
                          <summary id="toc-toggle" onclick="clickToc()" class="btn btn-octicon m-0 mr-2 p-2">
                            <svg aria-hidden="true" viewBox="0 0 16 16" height="16" width="16" class="octicon octicon-list-unordered">
                              <path fill-rule="evenodd" d="M2 4a1 1 0 100-2 1 1 0 000 2zm3.75-1.5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zm0 5a.75.75 0 000 1.5h8.5a.75.75 0 000-1.5h-8.5zM3 8a1 1 0 11-2 0 1 1 0 012 0zm-1 6a1 1 0 100-2 1 1 0 000 2z"></path>
                            </svg>
                          </summary>
                          <details-menu class="SelectMenu" id="toc-details" style="display: none;">
                            <div class="SelectMenu-modal rounded-3 mt-1" style="max-height: 340px;">
                              <div class="SelectMenu-list SelectMenu-list--borderless p-2" style="overscroll-behavior: contain;" id="toc-list">
                              </div>
                            </div>
                          </details-menu>
                            2776 Words
                          
      
                        </div>
                        <div class="file-actions flex-order-2 pt-0">
                          
                          
                          <a class="muted-link mr-3" href="/tags/pentest">
                            <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                              <path fill-rule="evenodd"
                                d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                              </path>
                            </svg>
                            pentest
                          </a>
                          
                          <a class="muted-link mr-3" href="/tags/web">
                            <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                              <path fill-rule="evenodd"
                                d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                              </path>
                            </svg>
                            web
                          </a>
                          
                          <a class="muted-link mr-3" href="/tags/interview">
                            <svg class="octicon octicon-tag" viewBox="0 0 16 16" version="1.1" width="16" height="16">
                              <path fill-rule="evenodd"
                                d="M2.5 7.775V2.75a.25.25 0 01.25-.25h5.025a.25.25 0 01.177.073l6.25 6.25a.25.25 0 010 .354l-5.025 5.025a.25.25 0 01-.354 0l-6.25-6.25a.25.25 0 01-.073-.177zm-1.5 0V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 010 2.474l-5.026 5.026a1.75 1.75 0 01-2.474 0l-6.25-6.25A1.75 1.75 0 011 7.775zM6 5a1 1 0 100 2 1 1 0 000-2z">
                              </path>
                            </svg>
                            interview
                          </a>
                          
                          
                        </div>
                      </div>
                    </div>
      
      
                    <div class="Box-body px-5 pb-5" style="z-index: 1">
                      <article class="markdown-body entry-content container-lg"><blockquote>
<p>渗透测试简单来说是安全人员模拟黑客入侵的方式，评估目标安全防御能力的行为。根据测试人员获取信息的多少，可分为黑盒、白盒、灰盒三种类型。（ING）</p>
</blockquote>
<!-- raw HTML omitted -->
<h2 id="简要步骤">简要步骤</h2>
<ol>
<li>
<p><strong>明确目标。</strong> 需要明确渗透测试的范围(IP/域名/内外网)、规则(提权/数据/时间)、需求(Web应用漏洞/业务逻辑漏洞/人员权限管理漏洞等)，针对性展开测试</p>
</li>
<li>
<p><strong>信息收集。</strong> 主动扫描&amp;搜索。基础信息(域名、子域名、IP、端口、CDN)、应用信息(服务器开启端口对应应用)、版本信息(探测到所有程序系统的版本)、人员信息(法人、管理员、用户)、防护信息(WAF、防火墙等防护设备)</p>
<p>丰富的信息是后续漏洞发现和利用的基础。</p>
</li>
<li>
<p><strong>漏洞探测。</strong> 框架组件公开漏洞（验证poc/exp）、传统漏洞(XSS/SQL/SSRF)、口令漏洞、代码业务逻辑漏洞、误配置漏洞等多种方式，通过自动化(AWVS/Nessus/appscan/OpenVAS)工具漏洞扫描或人工代码审计(fortify)实现。</p>
</li>
<li>
<p><strong>漏洞验证。</strong> 结合自动化扫描工具的结果进行验证、手工搭建模拟环境验证等方式，确认漏洞的存在、可利用性、可能的危害。</p>
</li>
<li>
<p><strong>发起攻击。</strong> 通过Metasploit等自动工具、编写脚本等方式实现。</p>
</li>
<li>
<p><strong>信息获取。</strong> 实施攻击后，能够获得怎样的权限或者数据是需要。</p>
<p>实施攻击 -&gt; 获取内部信息 -&gt; 内网渗透 -&gt; 持续性存在 -&gt; 痕迹清理</p>
</li>
<li>
<p><strong>报告生成。</strong> 完成渗透测试实践后，还需整理过程中收集到的信息、编写的代码、POC、EXP等，详细分析漏洞成因、验证过程和危害，提出修补建议，生成详尽的渗透测试报告。</p>
</li>
</ol>
<p><img src="https://s2.loli.net/2022/09/23/3RCDwmdMUlBvXqa.jpg" alt=""></p>
<h2 id="信息收集">信息收集</h2>
<blockquote>
<p>类型：主动信息收集(主动访问/扫描等)、被动信息收集(google/shodan搜索等)</p>
</blockquote>
<h3 id="ip相关">IP相关</h3>
<h4 id="ip获取">IP获取</h4>
<p>通过ping域名(ICMP协议)、nslookup命令、或站长之家支持在线查询的网站获取IP</p>
<h4 id="cdn检测真实ip获取">CDN检测&amp;真实IP获取</h4>
<blockquote>
<p>CDN(内容分发网络)服务根据地区选择线路提供访问，加速网站访问，隐藏真实IP</p>
</blockquote>
<ol>
<li>检测：<strong>全球<code>ping</code>/<code>nslookup</code></strong> (站长工作/爱站网)。同一域名不同地区访问IP不同，则很可能使用CDN、ping到了<code>vercel-dns</code>/nslookup的name字段等有类似域名。</li>
<li>绕过：
<ul>
<li><strong>查询子域名。</strong> 很多网站只对主站做了CDN加速，子域名没有。子域名与主站很可能在同一服务器/同一C段网络中，通过子域名IP辅助判断主站IP真实性。</li>
<li><strong>查询历史DNS记录 。</strong> (dnsdb/viewdns/微步在线等)</li>
<li><strong>使用国外主机请求域名。</strong> 部分CDN服务商只对国内线路做加速。</li>
<li><strong>网站信息泄露漏洞。</strong> (phpinfo页面SERVER_ADDR字段-主机真实IP)</li>
<li><strong>邮件信息。</strong> 若该站点提供邮件系统(一般在内部)，通过邮箱注册/密码找回/RSS订阅等，接收邮件查看源码可以获得真实IP。</li>
<li><strong>App应用。</strong> 有App，通过流量抓包可能会找到真实IP。</li>
<li><strong>域名备案信息广域探测。</strong> 共用一台服务器的多个网站域名及子域有没做CDN的</li>
</ul>
</li>
</ol>
<h4 id="旁站c段查询">旁站/C段查询</h4>
<ul>
<li>旁站：同一服务器上的其他网站</li>
<li>C段：同一内网段内的其他服务器(最后一个三位数不同)</li>
</ul>
<p>当前服务器-旁站入手。更多资产-C段入手。</p>
<p>站长之家、webscan、nmap等工具</p>
<h4 id="端口扫描">端口扫描</h4>
<ul>
<li>
<p>nmap - 最最最常用</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell">-sS <span class="c1"># TCP SYN扫描</span>
-sT <span class="c1"># TCP connect() 扫描</span>
-sU <span class="c1"># UDP扫描</span>
-sN <span class="c1"># TCP Null</span>
-sF <span class="c1"># FIN</span>
-sX <span class="c1"># Xmas扫描</span>
-Pn <span class="c1"># 不通过ICMP ping检测</span>
-sP <span class="c1"># 通过ping ICMP检测</span>
</code></pre></div></li>
<li>
<p>masscan</p>
</li>
</ul>
<h3 id="域名相关">域名相关</h3>
<h4 id="子域名收集">子域名收集</h4>
<blockquote>
<p>收集子域名可以扩大渗透范围，主站往往防御森严，从子域可以寻找更多突破口</p>
</blockquote>
<ol>
<li><strong>搜索引擎查找。</strong> <code>site:baidu.com</code>(google/shodan/360测绘空间/zoomeye等)</li>
<li><strong>枚举爆破查找。</strong> 如在线子域名查询(站长之家等)、子域名挖掘机、sublist3r、FuzzDomain、SubDomainBrute、subfinder、OneForAll、ksubdomain、wydomain等</li>
<li><strong>证书透明性信息。</strong> 查询共用SSL/TLS证书证书的网址可以找到其他域名。(crt.sh)</li>
<li>DNS域传送。</li>
<li><strong>递归爬取。</strong> <a href="https://github.com/p1g3/JSINFO-SCAN">JSINFO-SCAN</a></li>
<li><strong>构造域名。</strong> <a href="https://github.com/infosec-au/altdns">altdns</a> 基于已获得的子域名，置换探索相似域名</li>
<li><strong>信息泄露。</strong> 跨域策略文件、站点地图、robots.txt、CSP、邮箱系统、仓库等</li>
</ol>
<p><strong>存活性探测：</strong> <a href="https://github.com/broken5/WebAliveScan">WebAliveScan</a>、<a href="https://github.com/broken5/bscan">bscan</a>、<a href="https://github.com/projectdiscovery/httpx">httpx</a>、<a href="https://github.com/EASY233/Finger">Finger</a>等工具，检验域名是否存活，可能功能</p>
<h3 id="站点相关">站点相关</h3>
<h4 id="目录探测">目录探测</h4>
<ul>
<li>站点爬取方式：AWVS-Site Crawler、Burp Suite-Target-Site map、yuhScan、Dirmap</li>
<li>搜索方式：谷歌搜索 <code>site:xxx.com inurl:file intitle:后台</code></li>
<li>爆破方式：御剑、Kali-DirBuster</li>
</ul>
<h4 id="指纹识别">指纹识别</h4>
<table>
<thead>
<tr>
<th>指纹分类</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>Web容器</td>
<td>Apache、IIS、Nginx、Tomcat、Weblogic</td>
</tr>
<tr>
<td>服务端语言</td>
<td>PHP、Java、.NET、Node.js</td>
</tr>
<tr>
<td>后端框架</td>
<td>Thinkphp、Struts2</td>
</tr>
<tr>
<td>CMS应用</td>
<td>Wordpress、seacms</td>
</tr>
<tr>
<td>前端框架</td>
<td>Vue、react、angularjs</td>
</tr>
<tr>
<td>前端语言</td>
<td>Javascript、less</td>
</tr>
<tr>
<td>运营商</td>
<td>移动、联通</td>
</tr>
<tr>
<td>第三方内容</td>
<td>YouTube、Bilibili</td>
</tr>
<tr>
<td>CDN运营商</td>
<td>阿里云、电信</td>
</tr>
<tr>
<td>WAF</td>
<td>(规则/语义) 安全狗、D盾、宝塔 / 阿里云盾</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>框架识别。</strong> Powered by xxx关键语句/前端源码/meta标签、特定文件路径、响应头特定字段信息。（chrome wappalyzer/whatweb/Glass）</li>
<li><strong>WAF识别。</strong> (<a href="https://github.com/EnableSecurity/wafw00f">wafw00f</a>、<a href="https://github.com/stamparm/identYwaf">identYwaf</a>、SQLMap-identify-waf) 基于WAF拦截页信息、HTTP头部信息 （<a href="https://github.com/wallarm/gotestwaf">Gotestwaf</a> 评估WAF效果）</li>
<li><strong>服务器信息收集。</strong> 服务版本(<code>nmap -sV -p 1-65535 x.x.x.x</code>)、操作系统信息(<code>nmap -O x.x.x.x</code>)</li>
</ul>
<h3 id="社工相关">社工相关</h3>
<h4 id="whois查询">whois查询</h4>
<p>域名的注册人信息，如联系方式、管理员信息等 ，包括DNS服务器信息</p>
<ul>
<li>kali Whois命令/网上的whois工具，可以获得</li>
</ul>
<h2 id="after">After</h2>
<p>完成渗透测试并生成报告后，安全维护者需要进行漏洞修复和防护升级，如WAF规则新增、更严格的输入验证、DDoS防护等。</p>
<h2 id="漏洞探测">漏洞探测</h2>
<h3 id="漏洞扫描-自动化">漏洞扫描-自动化</h3>
<ol>
<li>文件包含</li>
<li>命令执行</li>
<li>SQL注入</li>
<li>XSS注入</li>
<li>弱口令</li>
<li>其他</li>
</ol>
<h2 id="发起攻击">发起攻击</h2>
<h3 id="绕过waf">绕过WAF</h3>
<ol>
<li>
<p><strong>云WAF防护。</strong> 找到网站IP，通过IP访问即可绕过</p>
</li>
<li>
<p><strong>替换关键字。</strong> <code>ununionion selselectect</code> - WAF采用替换或删除1个select/union关键词</p>
</li>
<li>
<p><strong>绕过空格。</strong> 注释<code>/xxx/、空白符号%20/%0、+</code>代替空格，WAF替换注释或没有识别注释的情况 &amp; 内联注释(MySQL: <code>/*!</code>注释内的语句被执行)</p>
</li>
<li>
<p>多参数请求拆分。多个参数拼接到同一条SQL语句，分割插入</p>
</li>
<li>
<p><strong>HTTP参数污染。</strong> 同一参数多次出现，不同中间件解析为不同结果</p>
<p><code>color=red&amp;color= blue</code>为例</p>
<p><img src="https://s2.loli.net/2022/09/23/7LBjh3ztcyerUNP.png" alt=""></p>
</li>
<li>
<p><strong>生僻函数替换。</strong> 报错注入里<code>updatexml()</code> -&gt; <code>polygon()</code></p>
</li>
<li>
<p><strong>URL编码(二次)。</strong> URL编码、Unicode/Base64编码等</p>
</li>
<li>
<p>宽字节绕过。GBK编码，对单引号<code>%27</code>进行转义<code>%5C%27</code>，通过<code>%df%27</code>转义为<code>%df%5C%27</code>，其中前两个被视为新字节，<code>%27</code>作为单引号正常实现语句闭合</p>
</li>
<li>
<p><strong>大小写混合。</strong> WAF规则匹配只针对特定情况(几乎没有)</p>
</li>
</ol>
<h2 id="references">References</h2>
<ol>
<li><a href="https://blog.zjun.info/tech/web-penetration-information-collection-checklist/">https://blog.zjun.info/tech/web-penetration-information-collection-checklist/</a></li>
<li><a href="https://cloud.tencent.com/developer/article/1872310">https://cloud.tencent.com/developer/article/1872310</a></li>
<li><a href="https://www.cnblogs.com/coderge/p/13736537.html">https://www.cnblogs.com/coderge/p/13736537.html</a></li>
<li><a href="https://www.freebuf.com/articles/web/229982.html">https://www.freebuf.com/articles/web/229982.html</a></li>
<li><a href="https://www.freebuf.com/articles/web/229982.html">https://www.freebuf.com/articles/web/229982.html</a></li>
<li><a href="https://cloud.tencent.com/developer/article/1820070">https://cloud.tencent.com/developer/article/1820070</a></li>
<li><a href="https://xz.aliyun.com/t/7767">https://xz.aliyun.com/t/7767</a></li>
</ol></article>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

</div>
<script type="application/javascript" src='https://m1nn1e.github.io/js/toc.js'></script>
<link rel="stylesheet" href='https://m1nn1e.github.io/css/toc.css' />

<style>
  .container-lg {
    max-width: 1080px;
    align-items: center;
}
</style>
</div>

<div>
<div id="gitalk-container" class="gitalk-container"></div>
<link rel="stylesheet" href='https://m1nn1e.github.io/css/gitalk.css' />
<script src='https://m1nn1e.github.io/js/gitalk.js'></script>

<script>
  const gitalk = new Gitalk({
    clientID: '08b4f959d47f631a12eb',
    clientSecret: '71249b4d50d71de6d3ae1872579e385ba36eff40',
    repo: 'm1nn1e.github.io',
    owner: 'm1nn1e',
    admin: ['m1nn1e'],
    id: eval("location.pathname"),
    distractionFreeMode: false
  });
  (function() {
    gitalk.render('gitalk-container');
  })();
</script>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.11.1/tocbot.min.js"></script>
<script type="text/javascript">
  tocbot.init({
    
    tocSelector: '.js-toc',
    
    contentSelector: '.js-toc-content',
    
    headingSelector: 'h2, h3, h4, h5',
    hasInnerContainers: false,
  })
</script>


  
<div class="footer container-xl width-full p-responsive">
  <div
    class="position-relative d-flex flex-row-reverse flex-lg-row flex-wrap flex-lg-nowrap flex-justify-center flex-lg-justify-between flex-sm-items-center pt-6 pb-2 mt-6 f6 text-gray border-top border-gray-light ">
    <a aria-label="Homepage" title="GitHub" class="footer-octicon d-none d-lg-block mr-lg-4" href="https://m1nn1e.github.io/">
      <svg height="24" class="octicon octicon-mark-github" viewBox="0 0 16 16" version="1.1" width="24">
        <path fill-rule="evenodd"
          d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
        </path>
      </svg>
    </a>
    <ul class="list-style-none d-flex flex-wrap col-12 flex-justify-center flex-lg-justify-between mb-2 mb-lg-0">
      
      <li class="mr-3 mr-lg-0">
        
      This is a <a href='https://github.com/MeiK2333/github-style'>github-style</a> blog...</li>
      <li class="mr-3 mr-lg-0">> since 2022/5/15</li> 
      
    </ul>

    
    <div class="back-to-top" id="back_to_top">
      

        
  <span><i class="fas fa-arrow-up"></i></span> 
      
      <span class="scrollpercent">
         <span id="back_to_top_text">0</span>%
      </span>
   </div>
   
  </div>

  
  <div class="d-flex flex-justify-center pb-6">
    <span class="f6 text-gray-light"></span>
  </div>


</div>


<script>
  let sideBarOpen = 'sidebar-open';
  let body = document.body;
  let back2Top = document.querySelector('#back_to_top'),
     back2TopText = document.querySelector('#back_to_top_text'),
     drawerBox = document.querySelector('#drawer_box'),
     rightSideBar = document.querySelector('.sidebar'),
     viewport = document.querySelector('body');

  function scrollAnimation(currentY, targetY) {

     let needScrollTop = targetY - currentY
     let _currentY = currentY
     setTimeout(() => {
        const dist = Math.ceil(needScrollTop / 10)
        _currentY += dist
        window.scrollTo(_currentY, currentY)
        if (needScrollTop > 10 || needScrollTop < -10) {
           scrollAnimation(_currentY, targetY)
        } else {
           window.scrollTo(_currentY, targetY)
        }
     }, 1)
  }

  back2Top.addEventListener("click", function (e) {
     scrollAnimation(document.scrollingElement.scrollTop, 0);
     e.stopPropagation();
     return false;
  });

  window.addEventListener('scroll', function (e) {
     let percent = document.scrollingElement.scrollTop / (document.scrollingElement.scrollHeight - document.scrollingElement.clientHeight) * 100;
     if (percent > 1 && !back2Top.classList.contains('back-top-active')) {
        back2Top.classList.add('back-top-active');
     }
     if (percent == 0) {
        back2Top.classList.remove('back-top-active');
     }
     if (back2TopText) {
        back2TopText.textContent = Math.floor(percent);
     }
  });
  let hasCacu = false;
 window.onresize = function () {
   calcuHeight();
 }
</script>
</body>

<script src="https://cdn.jsdelivr.net/gh/ITJoker233/ITJoker233.github.io@latest/CDN/js/love.min.js"></script>
<script type="text/javascript" src="https://demo.hellozwh.com/source/canvas-nest.min.js"></script>

<script type="application/javascript" src="https://m1nn1e.github.io/js/github-style.js"></script>



</html>